<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libmseed: Trace List</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libmseed<span id="projectnumber">&#160;3.0.10</span>
   </div>
   <div id="projectbrief">The miniSEED data format library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Trace List</div></div>
</div><!--header-->
<div class="contents">

<p>A container for continuous data.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:struct_m_s3_trace_seg"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#struct_m_s3_trace_seg">MS3TraceSeg</a></td></tr>
<tr class="memdesc:struct_m_s3_trace_seg"><td class="mdescLeft">&#160;</td><td class="mdescRight">Container for a continuous trace segment, linkable.  <a href="group__trace-list.html#struct_m_s3_trace_seg">More...</a><br /></td></tr>
<tr class="separator:struct_m_s3_trace_seg"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:struct_m_s3_trace_i_d"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d">MS3TraceID</a></td></tr>
<tr class="memdesc:struct_m_s3_trace_i_d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Container for a trace ID, linkable.  <a href="group__trace-list.html#struct_m_s3_trace_i_d">More...</a><br /></td></tr>
<tr class="separator:struct_m_s3_trace_i_d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:struct_m_s3_trace_list"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a></td></tr>
<tr class="memdesc:struct_m_s3_trace_list"><td class="mdescLeft">&#160;</td><td class="mdescRight">Container for a collection of continuous trace segment, linkable.  <a href="group__trace-list.html#struct_m_s3_trace_list">More...</a><br /></td></tr>
<tr class="separator:struct_m_s3_trace_list"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_m_s3_tolerance.html">MS3Tolerance</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback functions that return time and sample rate tolerances.  <a href="struct_m_s3_tolerance.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga9f56917332e05aa2e22c167014f9efed"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#ga9f56917332e05aa2e22c167014f9efed">mstl3_addmsr</a>(mstl,  msr,  splitversion,  autoheal,  flags,  tolerance)&#160;&#160;&#160;  <a class="el" href="group__trace-list.html#gaecd22ce014db52a2ca493d45090e2e46">mstl3_addmsr_recordptr</a> (mstl, msr, NULL, splitversion, autoheal, flags, tolerance)</td></tr>
<tr class="memdesc:ga9f56917332e05aa2e22c167014f9efed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> to a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>.  <a href="group__trace-list.html#ga9f56917332e05aa2e22c167014f9efed">More...</a><br /></td></tr>
<tr class="separator:ga9f56917332e05aa2e22c167014f9efed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac23dc184eac5bbfec546e1079ea4aed7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#gac23dc184eac5bbfec546e1079ea4aed7">mstl3_init</a> (<a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *mstl)</td></tr>
<tr class="memdesc:gac23dc184eac5bbfec546e1079ea4aed7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> container.  <a href="group__trace-list.html#gac23dc184eac5bbfec546e1079ea4aed7">More...</a><br /></td></tr>
<tr class="separator:gac23dc184eac5bbfec546e1079ea4aed7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2a436ab4eb7cd653e52e6760c2f51f20"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#ga2a436ab4eb7cd653e52e6760c2f51f20">mstl3_free</a> (<a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> **ppmstl, int8_t freeprvtptr)</td></tr>
<tr class="memdesc:ga2a436ab4eb7cd653e52e6760c2f51f20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free all memory associated with a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>.  <a href="group__trace-list.html#ga2a436ab4eb7cd653e52e6760c2f51f20">More...</a><br /></td></tr>
<tr class="separator:ga2a436ab4eb7cd653e52e6760c2f51f20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaecd22ce014db52a2ca493d45090e2e46"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__trace-list.html#struct_m_s3_trace_seg">MS3TraceSeg</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#gaecd22ce014db52a2ca493d45090e2e46">mstl3_addmsr_recordptr</a> (<a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *mstl, <a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *msr, <a class="el" href="group__record-list.html#struct_m_s3_record_ptr">MS3RecordPtr</a> **pprecptr, int8_t splitversion, int8_t autoheal, uint32_t flags, <a class="el" href="struct_m_s3_tolerance.html">MS3Tolerance</a> *tolerance)</td></tr>
<tr class="memdesc:gaecd22ce014db52a2ca493d45090e2e46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add data coverage from an <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> to a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>.  <a href="group__trace-list.html#gaecd22ce014db52a2ca493d45090e2e46">More...</a><br /></td></tr>
<tr class="separator:gaecd22ce014db52a2ca493d45090e2e46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0fc8e37886c7b346929dcede76d686fc"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#ga0fc8e37886c7b346929dcede76d686fc">mstl3_readbuffer</a> (<a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> **ppmstl, char *buffer, uint64_t bufferlength, int8_t splitversion, uint32_t flags, <a class="el" href="struct_m_s3_tolerance.html">MS3Tolerance</a> *tolerance, int8_t verbose)</td></tr>
<tr class="memdesc:ga0fc8e37886c7b346929dcede76d686fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse miniSEED from a buffer and populate a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>.  <a href="group__trace-list.html#ga0fc8e37886c7b346929dcede76d686fc">More...</a><br /></td></tr>
<tr class="separator:ga0fc8e37886c7b346929dcede76d686fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga63bbc4d17903b19aa360a35223d4c52c"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#ga63bbc4d17903b19aa360a35223d4c52c">mstl3_readbuffer_selection</a> (<a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> **ppmstl, char *buffer, uint64_t bufferlength, int8_t splitversion, uint32_t flags, <a class="el" href="struct_m_s3_tolerance.html">MS3Tolerance</a> *tolerance, <a class="el" href="group__data-selections.html#struct_m_s3_selections">MS3Selections</a> *selections, int8_t verbose)</td></tr>
<tr class="memdesc:ga63bbc4d17903b19aa360a35223d4c52c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse miniSEED from a buffer and populate a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>.  <a href="group__trace-list.html#ga63bbc4d17903b19aa360a35223d4c52c">More...</a><br /></td></tr>
<tr class="separator:ga63bbc4d17903b19aa360a35223d4c52c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga61e3899b8390546f6d2a725d2a2e137a"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#ga61e3899b8390546f6d2a725d2a2e137a">mstl3_unpack_recordlist</a> (<a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d">MS3TraceID</a> *id, <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg">MS3TraceSeg</a> *seg, void *output, size_t outputsize, int8_t verbose)</td></tr>
<tr class="memdesc:ga61e3899b8390546f6d2a725d2a2e137a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unpack data samples in a <a class="el" href="group__record-list.html">Record List</a> associated with a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>.  <a href="group__trace-list.html#ga61e3899b8390546f6d2a725d2a2e137a">More...</a><br /></td></tr>
<tr class="separator:ga61e3899b8390546f6d2a725d2a2e137a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1cbcdce4bf2acd1c9f536efed1b0b66"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#gac1cbcdce4bf2acd1c9f536efed1b0b66">mstl3_convertsamples</a> (<a class="el" href="group__trace-list.html#struct_m_s3_trace_seg">MS3TraceSeg</a> *seg, char type, int8_t truncate)</td></tr>
<tr class="memdesc:gac1cbcdce4bf2acd1c9f536efed1b0b66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the data samples associated with an <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a> to another data type.  <a href="group__trace-list.html#gac1cbcdce4bf2acd1c9f536efed1b0b66">More...</a><br /></td></tr>
<tr class="separator:gac1cbcdce4bf2acd1c9f536efed1b0b66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga922cf4103228d208a80e2c2c7a5c97ee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#ga922cf4103228d208a80e2c2c7a5c97ee">mstl3_resize_buffers</a> (<a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *mstl)</td></tr>
<tr class="memdesc:ga922cf4103228d208a80e2c2c7a5c97ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resize data sample buffers of <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> to what is needed.  <a href="group__trace-list.html#ga922cf4103228d208a80e2c2c7a5c97ee">More...</a><br /></td></tr>
<tr class="separator:ga922cf4103228d208a80e2c2c7a5c97ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga28697b648a1390ae480fdcf75a478079"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#ga28697b648a1390ae480fdcf75a478079">mstl3_pack</a> (<a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *mstl, void(*record_handler)(char *, int, void *), void *handlerdata, int reclen, int8_t encoding, int64_t *packedsamples, uint32_t flags, int8_t verbose, char *extra)</td></tr>
<tr class="memdesc:ga28697b648a1390ae480fdcf75a478079"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pack <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> data into miniSEED records.  <a href="group__trace-list.html#ga28697b648a1390ae480fdcf75a478079">More...</a><br /></td></tr>
<tr class="separator:ga28697b648a1390ae480fdcf75a478079"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad6999931a86547276deb85b36145ccd6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#gad6999931a86547276deb85b36145ccd6">mstl3_printtracelist</a> (<a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *mstl, <a class="el" href="group__time-related.html#ga293bcb6fe5bcc0ff6bc1ff8571fa5372">ms_timeformat_t</a> timeformat, int8_t details, int8_t gaps)</td></tr>
<tr class="memdesc:gad6999931a86547276deb85b36145ccd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print trace list summary information for a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>.  <a href="group__trace-list.html#gad6999931a86547276deb85b36145ccd6">More...</a><br /></td></tr>
<tr class="separator:gad6999931a86547276deb85b36145ccd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga902e150fe0f1a1d0fc140469507a82ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#ga902e150fe0f1a1d0fc140469507a82ce">mstl3_printsynclist</a> (<a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *mstl, char *dccid, <a class="el" href="group__time-related.html#ga5808cba8b50fd42fe1c98c02b579ce90">ms_subseconds_t</a> subseconds)</td></tr>
<tr class="memdesc:ga902e150fe0f1a1d0fc140469507a82ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print SYNC trace list summary information for a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>.  <a href="group__trace-list.html#ga902e150fe0f1a1d0fc140469507a82ce">More...</a><br /></td></tr>
<tr class="separator:ga902e150fe0f1a1d0fc140469507a82ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga280fc1708baa319bcd89f691968ce3ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trace-list.html#ga280fc1708baa319bcd89f691968ce3ef">mstl3_printgaplist</a> (<a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *mstl, <a class="el" href="group__time-related.html#ga293bcb6fe5bcc0ff6bc1ff8571fa5372">ms_timeformat_t</a> timeformat, double *mingap, double *maxgap)</td></tr>
<tr class="memdesc:ga280fc1708baa319bcd89f691968ce3ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print gap/overlap list summary information for a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>.  <a href="group__trace-list.html#ga280fc1708baa319bcd89f691968ce3ef">More...</a><br /></td></tr>
<tr class="separator:ga280fc1708baa319bcd89f691968ce3ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >A container for continuous data. </p>
<p >Trace lists are a container to organize continuous segments of data. By combining miniSEED data records into trace lists, the time series is reconstructed and ready for processing or summarization.</p>
<p >A trace list container starts with an <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>, which contains one or more <a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d" title="Container for a trace ID, linkable.">MS3TraceID</a> entries, which each contain one or more <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a> entries. The <a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d" title="Container for a trace ID, linkable.">MS3TraceID</a> and <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a> entries are traversed as a simple linked list.</p>
<p >The overall structure is illustrated as:</p><ul>
<li><a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a><ul>
<li><a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d" title="Container for a trace ID, linkable.">MS3TraceID</a><ul>
<li><a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a></li>
<li><a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a></li>
<li>...</li>
</ul>
</li>
<li><a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d" title="Container for a trace ID, linkable.">MS3TraceID</a><ul>
<li><a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a></li>
<li><a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a></li>
<li>...</li>
</ul>
</li>
<li>...</li>
</ul>
</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__io-functions.html#gadba1db9680c4e40ea9c680f3eb1b753e" title="Read miniSEED from a file into a trace list.">ms3_readtracelist()</a> </dd>
<dd>
<a class="el" href="group__io-functions.html#gaed872ce608c4d878b7ad63185a30859c" title="Read miniSEED from a file into a trace list, with time range selection.">ms3_readtracelist_timewin()</a> </dd>
<dd>
<a class="el" href="group__io-functions.html#ga4f447cc856a590286bf01eda71eaa74b" title="Read miniSEED from a file into a trace list, with selection filtering.">ms3_readtracelist_selection()</a> </dd>
<dd>
<a class="el" href="group__io-functions.html#gaca13b52a989f8e86a1f2c96f0ad853ba" title="Write miniSEED from an MS3TraceList container to a file.">mstl3_writemseed()</a> </dd></dl>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="struct_m_s3_trace_seg" id="struct_m_s3_trace_seg"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_m_s3_trace_seg">&#9670;&nbsp;</a></span>MS3TraceSeg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct MS3TraceSeg</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p >Container for a continuous trace segment, linkable. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="afa4b2623a8ffb336a9d9d9a9773c0dc0" name="afa4b2623a8ffb336a9d9d9a9773c0dc0"></a><a class="el" href="group__time-related.html#ga895cc29aec627a81605312ca77bc2174">nstime_t</a></td>
<td class="fieldname">
starttime</td>
<td class="fielddoc">
Time of first sample. </td></tr>
<tr><td class="fieldtype">
<a id="a2c33217da025db4c975c4013629d53eb" name="a2c33217da025db4c975c4013629d53eb"></a><a class="el" href="group__time-related.html#ga895cc29aec627a81605312ca77bc2174">nstime_t</a></td>
<td class="fieldname">
endtime</td>
<td class="fielddoc">
Time of last sample. </td></tr>
<tr><td class="fieldtype">
<a id="acb10e4263b0aeaab66232c35d8c7d5ac" name="acb10e4263b0aeaab66232c35d8c7d5ac"></a>double</td>
<td class="fieldname">
samprate</td>
<td class="fielddoc">
Nominal sample rate (Hz) </td></tr>
<tr><td class="fieldtype">
<a id="aa7c0b61595ae856dbf409db56cc74bcc" name="aa7c0b61595ae856dbf409db56cc74bcc"></a>int64_t</td>
<td class="fieldname">
samplecnt</td>
<td class="fielddoc">
Number of samples in trace coverage. </td></tr>
<tr><td class="fieldtype">
<a id="a91240518702ddde33ea492251c4ad1ad" name="a91240518702ddde33ea492251c4ad1ad"></a>void *</td>
<td class="fieldname">
datasamples</td>
<td class="fielddoc">
Data samples, <em>numsamples</em> of type <em>sampletype</em>. </td></tr>
<tr><td class="fieldtype">
<a id="ade26561b11baf3c62aa8f844bcb64305" name="ade26561b11baf3c62aa8f844bcb64305"></a>size_t</td>
<td class="fieldname">
datasize</td>
<td class="fielddoc">
Size of datasamples buffer in bytes. </td></tr>
<tr><td class="fieldtype">
<a id="a04a949bf1a75ed3008e22243922fe53c" name="a04a949bf1a75ed3008e22243922fe53c"></a>int64_t</td>
<td class="fieldname">
numsamples</td>
<td class="fielddoc">
Number of data samples in datasamples. </td></tr>
<tr><td class="fieldtype">
<a id="a9addbbe3f6cbb7f742b8def029cde74e" name="a9addbbe3f6cbb7f742b8def029cde74e"></a>char</td>
<td class="fieldname">
sampletype</td>
<td class="fielddoc">
Sample type code, see <a class="el" href="sample-types.html">Sample Types</a>. </td></tr>
<tr><td class="fieldtype">
<a id="a4b0c9a4002389c65dc2a5b8f0a549441" name="a4b0c9a4002389c65dc2a5b8f0a549441"></a>void *</td>
<td class="fieldname">
prvtptr</td>
<td class="fielddoc">
Private pointer for general use, unused by library. </td></tr>
<tr><td class="fieldtype">
<a id="a110824afd3948973a5b015e68e90bd36" name="a110824afd3948973a5b015e68e90bd36"></a>struct <a class="el" href="group__record-list.html#struct_m_s3_record_list">MS3RecordList</a> *</td>
<td class="fieldname">
recordlist</td>
<td class="fielddoc">
List of pointers to records that contributed. </td></tr>
<tr><td class="fieldtype">
<a id="aa48053acc5c80c8f6b1e18f03d46f931" name="aa48053acc5c80c8f6b1e18f03d46f931"></a>struct <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg">MS3TraceSeg</a> *</td>
<td class="fieldname">
prev</td>
<td class="fielddoc">
Pointer to previous segment. </td></tr>
<tr><td class="fieldtype">
<a id="ad5acfe831d046c60102414e333cb46a3" name="ad5acfe831d046c60102414e333cb46a3"></a>struct <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg">MS3TraceSeg</a> *</td>
<td class="fieldname">
next</td>
<td class="fielddoc">
Pointer to next segment, NULL if the last. </td></tr>
</table>

</div>
</div>
<a name="struct_m_s3_trace_i_d" id="struct_m_s3_trace_i_d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_m_s3_trace_i_d">&#9670;&nbsp;</a></span>MS3TraceID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct MS3TraceID</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p >Container for a trace ID, linkable. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="aaa4e9d9d9fb4c2bf4f93472500744c52" name="aaa4e9d9d9fb4c2bf4f93472500744c52"></a>char</td>
<td class="fieldname">
sid[<a class="el" href="libmseed_8h.html#a35732636583abd22ed0307c5d2576493">LM_SIDLEN</a>]</td>
<td class="fielddoc">
Source identifier as URN, max length <a class="el" href="libmseed_8h.html#a35732636583abd22ed0307c5d2576493">LM_SIDLEN</a>. </td></tr>
<tr><td class="fieldtype">
<a id="a49a7a751c8f59f769ec3b6e29e8aacfd" name="a49a7a751c8f59f769ec3b6e29e8aacfd"></a>uint8_t</td>
<td class="fieldname">
pubversion</td>
<td class="fielddoc">
Largest contributing publication version. </td></tr>
<tr><td class="fieldtype">
<a id="a537e76409176bd8fca77a71e73b825fb" name="a537e76409176bd8fca77a71e73b825fb"></a><a class="el" href="group__time-related.html#ga895cc29aec627a81605312ca77bc2174">nstime_t</a></td>
<td class="fieldname">
earliest</td>
<td class="fielddoc">
Time of earliest sample. </td></tr>
<tr><td class="fieldtype">
<a id="a3464b9217cd83f1c8a1527ac2384ff63" name="a3464b9217cd83f1c8a1527ac2384ff63"></a><a class="el" href="group__time-related.html#ga895cc29aec627a81605312ca77bc2174">nstime_t</a></td>
<td class="fieldname">
latest</td>
<td class="fielddoc">
Time of latest sample. </td></tr>
<tr><td class="fieldtype">
<a id="a706e13d72ad8638eaa7b9d81d4529ac3" name="a706e13d72ad8638eaa7b9d81d4529ac3"></a>void *</td>
<td class="fieldname">
prvtptr</td>
<td class="fielddoc">
Private pointer for general use, unused by library. </td></tr>
<tr><td class="fieldtype">
<a id="afdbdeb4baba7b1b2bbdb92738344b70c" name="afdbdeb4baba7b1b2bbdb92738344b70c"></a>uint32_t</td>
<td class="fieldname">
numsegments</td>
<td class="fielddoc">
Number of segments for this ID. </td></tr>
<tr><td class="fieldtype">
<a id="a2c57e9aa2e2b922b57df9ea8031aebde" name="a2c57e9aa2e2b922b57df9ea8031aebde"></a>struct <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg">MS3TraceSeg</a> *</td>
<td class="fieldname">
first</td>
<td class="fielddoc">
Pointer to first of list of segments. </td></tr>
<tr><td class="fieldtype">
<a id="ab51385237a38668bbe47adb79379ab97" name="ab51385237a38668bbe47adb79379ab97"></a>struct <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg">MS3TraceSeg</a> *</td>
<td class="fieldname">
last</td>
<td class="fielddoc">
Pointer to last of list of segments. </td></tr>
<tr><td class="fieldtype">
<a id="a7010e1a21bb73ccf12c5bbd783bfc9da" name="a7010e1a21bb73ccf12c5bbd783bfc9da"></a>struct <a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d">MS3TraceID</a> *</td>
<td class="fieldname">
next</td>
<td class="fielddoc">
Pointer to next trace ID, NULL if the last. </td></tr>
</table>

</div>
</div>
<a name="struct_m_s3_trace_list" id="struct_m_s3_trace_list"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_m_s3_trace_list">&#9670;&nbsp;</a></span>MS3TraceList</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct MS3TraceList</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p >Container for a collection of continuous trace segment, linkable. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="ae5bbab6e61505b30fa1fdf0b55061681" name="ae5bbab6e61505b30fa1fdf0b55061681"></a>uint32_t</td>
<td class="fieldname">
numtraces</td>
<td class="fielddoc">
Number of traces in list. </td></tr>
<tr><td class="fieldtype">
<a id="a4dddb7dd95226889820e4e8046c8bcb8" name="a4dddb7dd95226889820e4e8046c8bcb8"></a>struct <a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d">MS3TraceID</a> *</td>
<td class="fieldname">
traces</td>
<td class="fielddoc">
Pointer to list of traces. </td></tr>
<tr><td class="fieldtype">
<a id="a5cc9542bbcbca998dcf04fc18b52c895" name="a5cc9542bbcbca998dcf04fc18b52c895"></a>struct <a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d">MS3TraceID</a> *</td>
<td class="fieldname">
last</td>
<td class="fielddoc">
Pointer to last modified trace in list. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga9f56917332e05aa2e22c167014f9efed" name="ga9f56917332e05aa2e22c167014f9efed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9f56917332e05aa2e22c167014f9efed">&#9670;&nbsp;</a></span>mstl3_addmsr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define mstl3_addmsr</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">mstl, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">splitversion, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">autoheal, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">flags, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tolerance&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;  <a class="el" href="group__trace-list.html#gaecd22ce014db52a2ca493d45090e2e46">mstl3_addmsr_recordptr</a> (mstl, msr, NULL, splitversion, autoheal, flags, tolerance)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> to a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__trace-list.html#gaecd22ce014db52a2ca493d45090e2e46" title="Add data coverage from an MS3Record to a MS3TraceList.">mstl3_addmsr_recordptr()</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gac23dc184eac5bbfec546e1079ea4aed7" name="gac23dc184eac5bbfec546e1079ea4aed7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac23dc184eac5bbfec546e1079ea4aed7">&#9670;&nbsp;</a></span>mstl3_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> * mstl3_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *&#160;</td>
          <td class="paramname"><em>mstl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> container. </p>
<p >A new <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> is allocated if needed. If the supplied <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> is not NULL it will be re-initialized and any associated memory will be freed including data at <em>prvtptr</em> pointers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mstl</td><td><a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> to reinitialize or NULL</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> struct on success or NULL on error.</dd></dl>
<p><a class="el" href="group__logging.html#MessageOnError">MessageOnError</a> - this function logs a message on error </p>

</div>
</div>
<a id="ga2a436ab4eb7cd653e52e6760c2f51f20" name="ga2a436ab4eb7cd653e52e6760c2f51f20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2a436ab4eb7cd653e52e6760c2f51f20">&#9670;&nbsp;</a></span>mstl3_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mstl3_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> **&#160;</td>
          <td class="paramname"><em>ppmstl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>freeprvtptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free all memory associated with a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>. </p>
<p >The pointer to the target <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> will be set to NULL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ppmstl</td><td>Pointer-to-pointer to the target <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> to free </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">freeprvtptr</td><td>If true, also free any data at the <em>prvtptr</em> members of <a class="el" href="group__trace-list.html#a706e13d72ad8638eaa7b9d81d4529ac3" title="Private pointer for general use, unused by library.">MS3TraceID.prvtptr</a>, <a class="el" href="group__trace-list.html#a4b0c9a4002389c65dc2a5b8f0a549441" title="Private pointer for general use, unused by library.">MS3TraceSeg.prvtptr</a>, and <a class="el" href="group__record-list.html#a2cf5110861a2742886d686396146a756" title="Private pointer, will not be populated by library but will be free&#39;d.">MS3RecordPtr.prvtptr</a> (in <a class="el" href="group__trace-list.html#a110824afd3948973a5b015e68e90bd36" title="List of pointers to records that contributed.">MS3TraceSeg.recordlist</a>) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaecd22ce014db52a2ca493d45090e2e46" name="gaecd22ce014db52a2ca493d45090e2e46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaecd22ce014db52a2ca493d45090e2e46">&#9670;&nbsp;</a></span>mstl3_addmsr_recordptr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__trace-list.html#struct_m_s3_trace_seg">MS3TraceSeg</a> * mstl3_addmsr_recordptr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *&#160;</td>
          <td class="paramname"><em>mstl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *&#160;</td>
          <td class="paramname"><em>msr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__record-list.html#struct_m_s3_record_ptr">MS3RecordPtr</a> **&#160;</td>
          <td class="paramname"><em>pprecptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>splitversion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>autoheal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_m_s3_tolerance.html">MS3Tolerance</a> *&#160;</td>
          <td class="paramname"><em>tolerance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add data coverage from an <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> to a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>. </p>
<p >Searching the list for the appropriate <a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d" title="Container for a trace ID, linkable.">MS3TraceID</a> and <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a> and either add data to existing entries or create new ones as needed.</p>
<p >As this routine adds data to a trace list it constructs continuous time series, merging segments when possible. The <em>tolerance</em> pointer to a <a class="el" href="struct_m_s3_tolerance.html" title="Callback functions that return time and sample rate tolerances.">MS3Tolerance</a> identifies function pointers that are expected to return time tolerace, in seconds, and sample rate tolerance, in Hertz, for the given <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a>. If <em>tolerance</em> is NULL, or the function pointers it identifies are NULL, default tolerances will be used as follows: - Default time tolerance is 1/2 the sampling period - Default sample rate (sr) tolerance is abs(1‐sr1/sr2) &lt; 0.0001</p>
<p >In recommended usage, the <em>splitversion</em> flag is <b>0</b> and different publication versions of otherwise matching data are merged. If more than one version contributes to a given source identifer's segments, its <a class="el" href="group__trace-list.html#a49a7a751c8f59f769ec3b6e29e8aacfd" title="Largest contributing publication version.">MS3TraceID.pubversion</a> will be the set to the largest contributing version. If the <em>splitversion</em> flag is <b>1</b> the publication versions will be kept separate with each version isolated in separate <a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d" title="Container for a trace ID, linkable.">MS3TraceID</a> entries.</p>
<p >If the <em>autoheal</em> flag is true, extra processing is invoked to conjoin trace segments that fit together after the <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> coverage is added. For segments that are removed, any memory at the <a class="el" href="group__trace-list.html#a4b0c9a4002389c65dc2a5b8f0a549441" title="Private pointer for general use, unused by library.">MS3TraceSeg.prvtptr</a> will be freed.</p>
<p >If the <em>pprecptr</em> is not NULL a <a class="el" href="group__record-list.html">Record List</a> will be maintained for each segment. If the value of <code>*pprecptr</code> is NULL, a new <a class="el" href="group__record-list.html#struct_m_s3_record_ptr" title="A miniSEED record pointer and metadata.">MS3RecordPtr</a> will be allocated, otherwise the supplied structure will be updated. The <a class="el" href="group__record-list.html#struct_m_s3_record_ptr" title="A miniSEED record pointer and metadata.">MS3RecordPtr</a> will be added to the appropriate record list and the values of <a class="el" href="group__record-list.html#a7f0f4ea6a4bb9dac1357378dbfc3145a" title="Pointer to MS3Record for this record.">MS3RecordPtr.msr</a> and <a class="el" href="group__record-list.html#af074b4922203d707d08e468c10dd0aab" title="End time of record, time of last sample.">MS3RecordPtr.endtime</a> will be set, all other fields should be set by the caller.</p>
<p >The lists are always maintained in a sorted order. An <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> is maintained with the <a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d" title="Container for a trace ID, linkable.">MS3TraceID</a> entries in ascending alphanumeric order of SID. If repeated SIDs are present due to splitting on publication version, they are maintained in order of ascending version. A <a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d" title="Container for a trace ID, linkable.">MS3TraceID</a> is always maintained with <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a> entries in data time time order.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mstl</td><td>Destination <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> to add data to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">msr</td><td><a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> containing the data to add to list </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pprecptr</td><td>Pointer to pointer to a <a class="el" href="group__record-list.html#struct_m_s3_record_ptr" title="A miniSEED record pointer and metadata.">MS3RecordPtr</a> for <a class="el" href="group__record-list.html">Record List</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">splitversion</td><td>Flag to control splitting of version/quality </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">autoheal</td><td>Flag to control automatic merging of segments </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Flags to control optional functionality (unused) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tolerance</td><td>Tolerance function pointers as <a class="el" href="struct_m_s3_tolerance.html" title="Callback functions that return time and sample rate tolerances.">MS3Tolerance</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a> updated or NULL on error.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__trace-list.html#ga0fc8e37886c7b346929dcede76d686fc" title="Parse miniSEED from a buffer and populate a MS3TraceList.">mstl3_readbuffer()</a> </dd>
<dd>
<a class="el" href="group__io-functions.html#gadba1db9680c4e40ea9c680f3eb1b753e" title="Read miniSEED from a file into a trace list.">ms3_readtracelist()</a></dd></dl>
<p><a class="el" href="group__logging.html#MessageOnError">MessageOnError</a> - this function logs a message on error </p>

</div>
</div>
<a id="ga0fc8e37886c7b346929dcede76d686fc" name="ga0fc8e37886c7b346929dcede76d686fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0fc8e37886c7b346929dcede76d686fc">&#9670;&nbsp;</a></span>mstl3_readbuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t mstl3_readbuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> **&#160;</td>
          <td class="paramname"><em>ppmstl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>bufferlength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>splitversion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_m_s3_tolerance.html">MS3Tolerance</a> *&#160;</td>
          <td class="paramname"><em>tolerance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>verbose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse miniSEED from a buffer and populate a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>. </p>
<p >For a full description of <em>tolerance</em> see <a class="el" href="group__trace-list.html#ga9f56917332e05aa2e22c167014f9efed" title="Add a MS3Record to a MS3TraceList.">mstl3_addmsr()</a>.</p>
<p >If the <a class="el" href="group__control-flags.html#ga95033e92e20f803ae8e3daebca1a2b5b" title="[Parsing] Unpack data samples">MSF_UNPACKDATA</a> flag is set in <em>flags</em>, the data samples will be unpacked. In most cases the caller probably wants this flag set, without it the trace list will merely be a list of channels.</p>
<p >If the <a class="el" href="group__control-flags.html#gae9e461a94246a154dbf24dd691ff28f6" title="[TraceList] Build a MS3RecordList for each MS3TraceSeg">MSF_RECORDLIST</a> flag is set in <em>flags</em>, a <a class="el" href="group__record-list.html#struct_m_s3_record_list" title="Record list, holds MS3RecordPtr entries that contribute to a given MS3TraceSeg.">MS3RecordList</a> will be built for each <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a>. The <a class="el" href="group__record-list.html#struct_m_s3_record_ptr" title="A miniSEED record pointer and metadata.">MS3RecordPtr</a> entries contain the location of the data record, bit flags, extra headers, etc.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ppmstl</td><td>Pointer-to-point to destination <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>Source buffer to read miniSEED records from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufferlength</td><td>Maximum length of <em>buffer</em> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">splitversion</td><td>Flag to control splitting of version/quality </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Flags to control parsing and optional functionality: <ul>
<li><code><a class="el" href="group__control-flags.html#gae9e461a94246a154dbf24dd691ff28f6" title="[TraceList] Build a MS3RecordList for each MS3TraceSeg">MSF_RECORDLIST</a></code> : Build a <a class="el" href="group__record-list.html#struct_m_s3_record_list" title="Record list, holds MS3RecordPtr entries that contribute to a given MS3TraceSeg.">MS3RecordList</a> for each <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a></li>
<li>Flags supported by <a class="el" href="group__miniseed-record.html#ga685b3796656bcf24c2f417c94d3631f6" title="Parse miniSEED from a buffer.">msr3_parse()</a></li>
<li>Flags supported by <a class="el" href="group__trace-list.html#ga9f56917332e05aa2e22c167014f9efed" title="Add a MS3Record to a MS3TraceList.">mstl3_addmsr()</a> </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tolerance</td><td>Tolerance function pointers as <a class="el" href="struct_m_s3_tolerance.html" title="Callback functions that return time and sample rate tolerances.">MS3Tolerance</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verbose</td><td>Controls verbosity, 0 means no diagnostic output</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of records parsed on success, otherwise a negative library error code.</dd></dl>
<p><a class="el" href="group__logging.html#MessageOnError">MessageOnError</a> - this function logs a message on error</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__trace-list.html#ga9f56917332e05aa2e22c167014f9efed" title="Add a MS3Record to a MS3TraceList.">mstl3_addmsr()</a> </dd></dl>

</div>
</div>
<a id="ga63bbc4d17903b19aa360a35223d4c52c" name="ga63bbc4d17903b19aa360a35223d4c52c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga63bbc4d17903b19aa360a35223d4c52c">&#9670;&nbsp;</a></span>mstl3_readbuffer_selection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t mstl3_readbuffer_selection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> **&#160;</td>
          <td class="paramname"><em>ppmstl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>bufferlength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>splitversion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_m_s3_tolerance.html">MS3Tolerance</a> *&#160;</td>
          <td class="paramname"><em>tolerance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__data-selections.html#struct_m_s3_selections">MS3Selections</a> *&#160;</td>
          <td class="paramname"><em>selections</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>verbose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse miniSEED from a buffer and populate a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>. </p>
<p >For a full description of <em>tolerance</em> see <a class="el" href="group__trace-list.html#ga9f56917332e05aa2e22c167014f9efed" title="Add a MS3Record to a MS3TraceList.">mstl3_addmsr()</a>.</p>
<p >If the <a class="el" href="group__control-flags.html#ga95033e92e20f803ae8e3daebca1a2b5b" title="[Parsing] Unpack data samples">MSF_UNPACKDATA</a> flag is set in <em>flags</em>, the data samples will be unpacked. In most cases the caller probably wants this flag set, without it the trace list will merely be a list of channels.</p>
<p >If the <a class="el" href="group__control-flags.html#gae9e461a94246a154dbf24dd691ff28f6" title="[TraceList] Build a MS3RecordList for each MS3TraceSeg">MSF_RECORDLIST</a> flag is set in <em>flags</em>, a <a class="el" href="group__record-list.html#struct_m_s3_record_list" title="Record list, holds MS3RecordPtr entries that contribute to a given MS3TraceSeg.">MS3RecordList</a> will be built for each <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a>. The <a class="el" href="group__record-list.html#struct_m_s3_record_ptr" title="A miniSEED record pointer and metadata.">MS3RecordPtr</a> entries contain the location of the data record, bit flags, extra headers, etc.</p>
<p >If <em>selections</em> is not NULL, the <a class="el" href="group__data-selections.html#struct_m_s3_selections" title="Data selection structure definition containers.">MS3Selections</a> will be used to limit what is returned to the caller. Any data not matching the selections will be skipped.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ppmstl</td><td>Pointer-to-point to destination <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>Source buffer to read miniSEED records from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bufferlength</td><td>Maximum length of <em>buffer</em> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">splitversion</td><td>Flag to control splitting of version/quality </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Flags to control parsing and optional functionality: <ul>
<li><code><a class="el" href="group__control-flags.html#gae9e461a94246a154dbf24dd691ff28f6" title="[TraceList] Build a MS3RecordList for each MS3TraceSeg">MSF_RECORDLIST</a></code> : Build a <a class="el" href="group__record-list.html#struct_m_s3_record_list" title="Record list, holds MS3RecordPtr entries that contribute to a given MS3TraceSeg.">MS3RecordList</a> for each <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a></li>
<li>Flags supported by <a class="el" href="group__miniseed-record.html#ga685b3796656bcf24c2f417c94d3631f6" title="Parse miniSEED from a buffer.">msr3_parse()</a></li>
<li>Flags supported by <a class="el" href="group__trace-list.html#ga9f56917332e05aa2e22c167014f9efed" title="Add a MS3Record to a MS3TraceList.">mstl3_addmsr()</a> </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tolerance</td><td>Tolerance function pointers as <a class="el" href="struct_m_s3_tolerance.html" title="Callback functions that return time and sample rate tolerances.">MS3Tolerance</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">selections</td><td>Specify limits to which data should be returned, see <a class="el" href="group__data-selections.html">Data Selections</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verbose</td><td>Controls verbosity, 0 means no diagnostic output</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of records parsed on success, otherwise a negative library error code.</dd></dl>
<p><a class="el" href="group__logging.html#MessageOnError">MessageOnError</a> - this function logs a message on error</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__trace-list.html#ga9f56917332e05aa2e22c167014f9efed" title="Add a MS3Record to a MS3TraceList.">mstl3_addmsr()</a> </dd></dl>

</div>
</div>
<a id="ga61e3899b8390546f6d2a725d2a2e137a" name="ga61e3899b8390546f6d2a725d2a2e137a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga61e3899b8390546f6d2a725d2a2e137a">&#9670;&nbsp;</a></span>mstl3_unpack_recordlist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t mstl3_unpack_recordlist </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d">MS3TraceID</a> *&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__trace-list.html#struct_m_s3_trace_seg">MS3TraceSeg</a> *&#160;</td>
          <td class="paramname"><em>seg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>outputsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>verbose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unpack data samples in a <a class="el" href="group__record-list.html">Record List</a> associated with a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>. </p>
<p >Normally a record list is created calling by <a class="el" href="group__io-functions.html#gadba1db9680c4e40ea9c680f3eb1b753e" title="Read miniSEED from a file into a trace list.">ms3_readtracelist()</a> or <a class="el" href="group__trace-list.html#ga0fc8e37886c7b346929dcede76d686fc" title="Parse miniSEED from a buffer and populate a MS3TraceList.">mstl3_readbuffer()</a> with the <a class="el" href="group__control-flags.html#gae9e461a94246a154dbf24dd691ff28f6" title="[TraceList] Build a MS3RecordList for each MS3TraceSeg">MSF_RECORDLIST</a> flag.</p>
<p >Unpacked data samples are written to the provided <em>output</em> buffer (up to <em>outputsize</em> bytes). If <em>output</em> is NULL, a buffer will be allocated and associated with the <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a>, just as if the data were unpacked while constructing the <a class="el" href="group__trace-list.html">Trace List</a>.</p>
<p >The sample type of the decoded data is stored at <a class="el" href="group__trace-list.html#a9addbbe3f6cbb7f742b8def029cde74e" title="Sample type code, see Sample Types.">MS3TraceSeg.sampletype</a> (i.e. <code>seg-&gt;sampletype</code>).</p>
<p >A record pointer entry has multiple ways to identify the location of a record: memory buffer, open file (FILE *) or file name. This routine uses the first populated record location in the following order:</p><ol type="1">
<li>Buffer pointer (<a class="el" href="group__record-list.html#aaef0f6a62aa670aee60244b934b935a2" title="Pointer in buffer to record, NULL if not used.">MS3RecordPtr.bufferptr</a>)</li>
<li>Open file and offset (<a class="el" href="group__record-list.html#ab111fd7ecab5397692070960158328b6" title="Pointer to open FILE containing record, NULL if not used.">MS3RecordPtr.fileptr</a> and <a class="el" href="group__record-list.html#a56ab5d737fce6c90c5404bc0d7cfdcc3" title="Offset into file to record for fileptr or filename.">MS3RecordPtr.fileoffset</a>)</li>
<li>File name and offset (<a class="el" href="group__record-list.html#a56cdc9b5211dc6b1a2340093d3272db7" title="Pointer to file name containing record, NULL if not used.">MS3RecordPtr.filename</a> and <a class="el" href="group__record-list.html#a56ab5d737fce6c90c5404bc0d7cfdcc3" title="Offset into file to record for fileptr or filename.">MS3RecordPtr.fileoffset</a>)</li>
</ol>
<p >It would be unusual to build a record list outside of the library, but should that ever occur note that the record list is assumed to be in correct time order and represent a contiguous time series.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td><a class="el" href="group__trace-list.html#struct_m_s3_trace_i_d" title="Container for a trace ID, linkable.">MS3TraceID</a> for relevant <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">seg</td><td><a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a> with associated <a class="el" href="group__record-list.html">Record List</a> to unpack </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">output</td><td>Output buffer for data samples, can be NULL </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">outputsize</td><td>Size of <em>output</em> buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verbose</td><td>Controls logging verbosity, 0 is no diagnostic output</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of samples unpacked or -1 on error.</dd></dl>
<p><a class="el" href="group__logging.html#MessageOnError">MessageOnError</a> - this function logs a message on error</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__trace-list.html#ga0fc8e37886c7b346929dcede76d686fc" title="Parse miniSEED from a buffer and populate a MS3TraceList.">mstl3_readbuffer()</a> </dd>
<dd>
<a class="el" href="group__trace-list.html#ga63bbc4d17903b19aa360a35223d4c52c" title="Parse miniSEED from a buffer and populate a MS3TraceList.">mstl3_readbuffer_selection()</a> </dd>
<dd>
<a class="el" href="group__io-functions.html#gadba1db9680c4e40ea9c680f3eb1b753e" title="Read miniSEED from a file into a trace list.">ms3_readtracelist()</a> </dd>
<dd>
<a class="el" href="group__io-functions.html#ga4f447cc856a590286bf01eda71eaa74b" title="Read miniSEED from a file into a trace list, with selection filtering.">ms3_readtracelist_selection()</a> </dd></dl>

</div>
</div>
<a id="gac1cbcdce4bf2acd1c9f536efed1b0b66" name="gac1cbcdce4bf2acd1c9f536efed1b0b66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac1cbcdce4bf2acd1c9f536efed1b0b66">&#9670;&nbsp;</a></span>mstl3_convertsamples()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mstl3_convertsamples </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__trace-list.html#struct_m_s3_trace_seg">MS3TraceSeg</a> *&#160;</td>
          <td class="paramname"><em>seg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>truncate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the data samples associated with an <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a> to another data type. </p>
<p >ASCII data samples cannot be converted, if supplied or requested an error will be returned.</p>
<p >When converting float &amp; double sample types to integer type a simple rounding is applied by adding 0.5 to the sample value before converting (truncating) to integer. This compensates for common machine representations of floating point values, e.g. "40.0" represented by "39.99999999".</p>
<p >If the <em>truncate</em> flag is true (non-zero) data samples will be truncated to integers even if loss of sample precision is detected. If the truncate flag is false (zero) and loss of precision is detected an error is returned. Loss of precision is determined by testing that the difference between the floating point value and the (truncated) integer value is greater than 0.000001.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">seg</td><td>The target <a class="el" href="group__trace-list.html#struct_m_s3_trace_seg" title="Container for a continuous trace segment, linkable.">MS3TraceSeg</a> to convert </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>The desired data sample type: <ul>
<li><code>'i'</code> - 32-bit integer data type</li>
<li><code>'f'</code> - 32-bit float data type</li>
<li><code>'d'</code> - 64-bit float (double) data type </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">truncate</td><td>Control truncation of floating point values to integers</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, and -1 on failure.</dd></dl>
<p><a class="el" href="group__logging.html#MessageOnError">MessageOnError</a> - this function logs a message on error </p>

</div>
</div>
<a id="ga922cf4103228d208a80e2c2c7a5c97ee" name="ga922cf4103228d208a80e2c2c7a5c97ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga922cf4103228d208a80e2c2c7a5c97ee">&#9670;&nbsp;</a></span>mstl3_resize_buffers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mstl3_resize_buffers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *&#160;</td>
          <td class="paramname"><em>mstl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resize data sample buffers of <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> to what is needed. </p>
<p >This routine should only be used if pre-allocation of memory, via <a class="el" href="group__memory-allocators.html#gac6849eb93f00f89d4dc01f8a3692df3b">libmseed_prealloc_block_size</a>, was enabled to allocate the buffers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mstl</td><td><a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> to resize buffers</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return 0 on success, otherwise returns a libmseed error code.</dd></dl>
<p><a class="el" href="group__logging.html#MessageOnError">MessageOnError</a> - this function logs a message on error </p>

</div>
</div>
<a id="ga28697b648a1390ae480fdcf75a478079" name="ga28697b648a1390ae480fdcf75a478079"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga28697b648a1390ae480fdcf75a478079">&#9670;&nbsp;</a></span>mstl3_pack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t mstl3_pack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *&#160;</td>
          <td class="paramname"><em>mstl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(char *, int, void *)&#160;</td>
          <td class="paramname"><em>record_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handlerdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>reclen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>encoding</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>packedsamples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>verbose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>extra</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pack <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> data into miniSEED records. </p>
<p >The datasamples array, numsamples and starttime fields of each trace segment will be adjusted as data are packed unless the <a class="el" href="group__control-flags.html#gabe9cac1fa38474874a30e880cac1b2b5" title="[TraceList] Do not modify a trace list when packing">MSF_MAINTAINMSTL</a> flag is specified in <em>flags</em>. If <a class="el" href="group__control-flags.html#gabe9cac1fa38474874a30e880cac1b2b5" title="[TraceList] Do not modify a trace list when packing">MSF_MAINTAINMSTL</a> is specified a caller would also normally set the <a class="el" href="group__control-flags.html#gaae2d9bb856575a556a4ac4dd1ce5f8c5" title="[Packing] Pack all available data even if final record would not be filled">MSF_FLUSHDATA</a> flag to pack all data in the trace list.</p>
<p ><b>Use as a rolling buffer to generate data records:</b> The behavior of adjusting the trace list as data are packed is intended to allow using a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> as an intermediate collection of data buffers to generate data records from an arbitrarily large data source, e.g. continuous data. In this pattern, data are added to a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> and <a class="el" href="group__trace-list.html#ga28697b648a1390ae480fdcf75a478079" title="Pack MS3TraceList data into miniSEED records.">mstl3_pack()</a> is called repeatedly. Data records are only produced if a complete record can be generated, which often leaves small amounts of data in each segment buffer. On completion or shutdown the caller usually makes a final call to mst3_pack() with the <a class="el" href="group__control-flags.html#gaae2d9bb856575a556a4ac4dd1ce5f8c5" title="[Packing] Pack all available data even if final record would not be filled">MSF_FLUSHDATA</a> flag set to flush all data from the buffers.</p>
<p >As each record is filled and finished they are passed to <em>record_handler()</em> which should expect 1) a <code>char*</code> to the record, 2) the length of the record and 3) a pointer supplied by the original caller containing optional private data (<em>handlerdata</em>). It is the responsibility of <em>record_handler()</em> to process the record, the memory will be re-used or freed when <em>record_handler()</em> returns.</p>
<p >The requested <em>encoding</em> value is currently only used for integer data samples. The encoding is set automatially for text (ASCII) and floating point data samples as there is only a single encoding for them. A value of <code>-1</code> can be used to request the default.</p>
<p >If <em>extra</em> is not NULL it is expected to contain extraheaders, a string containing (compact) JSON, that will be added to each output record.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mstl</td><td><a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> containing data to pack </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">record_handler()</td><td>Callback function called for each record </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handlerdata</td><td>A pointer that will be provided to the <em>record_handler()</em> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reclen</td><td>Maximum record length to create </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">encoding</td><td>Encoding for data samples, see <a class="el" href="group__miniseed-record.html#gaa649330804f08b4d4cef9c0b1d8f7867" title="Pack data into miniSEED records.">msr3_pack()</a> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">packedsamples</td><td>The number of samples packed, returned to caller </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Bit flags to control packing: <ul>
<li><code><a class="el" href="group__control-flags.html#gaae2d9bb856575a556a4ac4dd1ce5f8c5" title="[Packing] Pack all available data even if final record would not be filled">MSF_FLUSHDATA</a></code> : Pack all data in the buffer</li>
<li><code><a class="el" href="group__control-flags.html#gabe9cac1fa38474874a30e880cac1b2b5" title="[TraceList] Do not modify a trace list when packing">MSF_MAINTAINMSTL</a></code> : Do not remove packe data from the buffer</li>
<li><code><a class="el" href="group__control-flags.html#ga7d98fd296c08a35f3c37bef32c5f274f" title="[Packing] Pack as miniSEED version 2 instead of 3">MSF_PACKVER2</a></code> : Pack miniSEED version 2 instead of default 3 </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verbose</td><td>Controls logging verbosity, 0 is no diagnostic output </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">extra</td><td>If not NULL, add this buffer of extra headers to all records</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of records created on success and -1 on error.</dd></dl>
<p><a class="el" href="group__logging.html#MessageOnError">MessageOnError</a> - this function logs a message on error</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__miniseed-record.html#gaa649330804f08b4d4cef9c0b1d8f7867" title="Pack data into miniSEED records.">msr3_pack()</a> </dd></dl>

</div>
</div>
<a id="gad6999931a86547276deb85b36145ccd6" name="gad6999931a86547276deb85b36145ccd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad6999931a86547276deb85b36145ccd6">&#9670;&nbsp;</a></span>mstl3_printtracelist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mstl3_printtracelist </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *&#160;</td>
          <td class="paramname"><em>mstl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__time-related.html#ga293bcb6fe5bcc0ff6bc1ff8571fa5372">ms_timeformat_t</a>&#160;</td>
          <td class="paramname"><em>timeformat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>details</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>gaps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print trace list summary information for a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>. </p>
<p >By default only print the source ID, starttime and endtime for each trace. If <em>details</em> is greater than 0 include the sample rate, number of samples and a total trace count. If <em>gaps</em> is greater than 0 and the previous trace matches (SID &amp; samprate) include the gap between the endtime of the last trace and the starttime of the current trace.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mstl</td><td><a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> to print </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeformat</td><td>Time string format, one of <a class="el" href="group__time-related.html#ga293bcb6fe5bcc0ff6bc1ff8571fa5372">ms_timeformat_t</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">details</td><td>Flag to control inclusion of more details </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gaps</td><td>Flag to control inclusion of gap/overlap between segments </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga902e150fe0f1a1d0fc140469507a82ce" name="ga902e150fe0f1a1d0fc140469507a82ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga902e150fe0f1a1d0fc140469507a82ce">&#9670;&nbsp;</a></span>mstl3_printsynclist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mstl3_printsynclist </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *&#160;</td>
          <td class="paramname"><em>mstl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dccid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__time-related.html#ga5808cba8b50fd42fe1c98c02b579ce90">ms_subseconds_t</a>&#160;</td>
          <td class="paramname"><em>subseconds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print SYNC trace list summary information for a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>. </p>
<p >The SYNC header line will be created using the supplied dccid, if the pointer is NULL the string "DCC" will be used instead.</p>
<p >If the <em>subsecond</em> flag is true the segment start and end times will include subsecond precision, otherwise they will be truncated to integer seconds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mstl</td><td><a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> to print </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dccid</td><td>The DCC identifier to include in the output </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">subseconds</td><td>Inclusion of subseconds, one of <a class="el" href="group__time-related.html#ga5808cba8b50fd42fe1c98c02b579ce90">ms_subseconds_t</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga280fc1708baa319bcd89f691968ce3ef" name="ga280fc1708baa319bcd89f691968ce3ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga280fc1708baa319bcd89f691968ce3ef">&#9670;&nbsp;</a></span>mstl3_printgaplist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mstl3_printgaplist </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__trace-list.html#struct_m_s3_trace_list">MS3TraceList</a> *&#160;</td>
          <td class="paramname"><em>mstl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__time-related.html#ga293bcb6fe5bcc0ff6bc1ff8571fa5372">ms_timeformat_t</a>&#160;</td>
          <td class="paramname"><em>timeformat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>mingap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>maxgap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print gap/overlap list summary information for a <a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a>. </p>
<p >Overlaps are printed as negative gaps.</p>
<p >If <em>mingap</em> and <em>maxgap</em> are not NULL their values will be enforced and only gaps/overlaps matching their implied criteria will be printed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mstl</td><td><a class="el" href="group__trace-list.html#struct_m_s3_trace_list" title="Container for a collection of continuous trace segment, linkable.">MS3TraceList</a> to print </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeformat</td><td>Time string format, one of <a class="el" href="group__time-related.html#ga293bcb6fe5bcc0ff6bc1ff8571fa5372">ms_timeformat_t</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mingap</td><td>Minimum gap to print in seconds (pointer to value) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxgap</td><td>Maximum gap to print in seconds (pointer to value) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- GitHub corner from https://github.com/tholman/github-corners -->
<a href="https://github.com/iris-edu/libmseed" class="github-corner" aria-label="View source on GitHub"><svg width="75" height="75" viewBox="0 0 250 250" style="fill:#442487; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<a href="https://ds.iris.edu"><img style="position: absolute; top: 0; border: 0; right: 75px; height:75px;" src="https://www.iris.edu/hq/files/publications/logos/iris_color_screen.png"></a>
