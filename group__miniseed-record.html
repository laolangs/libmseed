<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libmseed: Record Handling</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libmseed<span id="projectnumber">&#160;3.0.10</span>
   </div>
   <div id="projectbrief">The miniSEED data format library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Record Handling</div></div>
</div><!--header-->
<div class="contents">

<p>Definitions and functions related to individual miniSEED records.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:struct_m_s3_record"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a></td></tr>
<tr class="memdesc:struct_m_s3_record"><td class="mdescLeft">&#160;</td><td class="mdescRight">miniSEED record container  <a href="group__miniseed-record.html#struct_m_s3_record">More...</a><br /></td></tr>
<tr class="separator:struct_m_s3_record"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga685b3796656bcf24c2f417c94d3631f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__miniseed-record.html#ga685b3796656bcf24c2f417c94d3631f6">msr3_parse</a> (char *record, uint64_t recbuflen, <a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> **ppmsr, uint32_t flags, int8_t verbose)</td></tr>
<tr class="memdesc:ga685b3796656bcf24c2f417c94d3631f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse miniSEED from a buffer.  <a href="group__miniseed-record.html#ga685b3796656bcf24c2f417c94d3631f6">More...</a><br /></td></tr>
<tr class="separator:ga685b3796656bcf24c2f417c94d3631f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa649330804f08b4d4cef9c0b1d8f7867"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__miniseed-record.html#gaa649330804f08b4d4cef9c0b1d8f7867">msr3_pack</a> (<a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *msr, void(*record_handler)(char *, int, void *), void *handlerdata, int64_t *packedsamples, uint32_t flags, int8_t verbose)</td></tr>
<tr class="memdesc:gaa649330804f08b4d4cef9c0b1d8f7867"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pack data into miniSEED records.  <a href="group__miniseed-record.html#gaa649330804f08b4d4cef9c0b1d8f7867">More...</a><br /></td></tr>
<tr class="separator:gaa649330804f08b4d4cef9c0b1d8f7867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga61b17137140e7ba1414157275574f847"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__miniseed-record.html#ga61b17137140e7ba1414157275574f847">msr3_repack_mseed3</a> (<a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *msr, char *record, uint32_t recbuflen, int8_t verbose)</td></tr>
<tr class="memdesc:ga61b17137140e7ba1414157275574f847"><td class="mdescLeft">&#160;</td><td class="mdescRight">Repack a parsed miniSEED record into a version 3 record.  <a href="group__miniseed-record.html#ga61b17137140e7ba1414157275574f847">More...</a><br /></td></tr>
<tr class="separator:ga61b17137140e7ba1414157275574f847"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b51fc781dc9e42e737c8c7862709f7b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__miniseed-record.html#ga0b51fc781dc9e42e737c8c7862709f7b">msr3_pack_header3</a> (<a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *msr, char *record, uint32_t recbuflen, int8_t verbose)</td></tr>
<tr class="memdesc:ga0b51fc781dc9e42e737c8c7862709f7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pack a miniSEED version 3 header into the specified buffer.  <a href="group__miniseed-record.html#ga0b51fc781dc9e42e737c8c7862709f7b">More...</a><br /></td></tr>
<tr class="separator:ga0b51fc781dc9e42e737c8c7862709f7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga43cd6847493c0c960f2757abd341645d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__miniseed-record.html#ga43cd6847493c0c960f2757abd341645d">msr3_pack_header2</a> (<a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *msr, char *record, uint32_t recbuflen, int8_t verbose)</td></tr>
<tr class="memdesc:ga43cd6847493c0c960f2757abd341645d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pack a miniSEED version 2 header into the specified buffer.  <a href="group__miniseed-record.html#ga43cd6847493c0c960f2757abd341645d">More...</a><br /></td></tr>
<tr class="separator:ga43cd6847493c0c960f2757abd341645d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d9056f00de1252658d3f2c6562576ee"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__miniseed-record.html#ga4d9056f00de1252658d3f2c6562576ee">msr3_unpack_data</a> (<a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *msr, int8_t verbose)</td></tr>
<tr class="memdesc:ga4d9056f00de1252658d3f2c6562576ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unpack data samples for a <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a>.  <a href="group__miniseed-record.html#ga4d9056f00de1252658d3f2c6562576ee">More...</a><br /></td></tr>
<tr class="separator:ga4d9056f00de1252658d3f2c6562576ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga27b328cd56b265e923738202496ce1c8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__miniseed-record.html#ga27b328cd56b265e923738202496ce1c8">msr3_data_bounds</a> (<a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *msr, uint32_t *dataoffset, uint32_t *datasize)</td></tr>
<tr class="memdesc:ga27b328cd56b265e923738202496ce1c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the data payload bounds for a <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a>.  <a href="group__miniseed-record.html#ga27b328cd56b265e923738202496ce1c8">More...</a><br /></td></tr>
<tr class="separator:ga27b328cd56b265e923738202496ce1c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga168030ab7a866400153be169f8ed363d"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__miniseed-record.html#ga168030ab7a866400153be169f8ed363d">ms_decode_data</a> (const void *input, size_t inputsize, uint8_t encoding, int64_t samplecount, void *output, size_t outputsize, char *sampletype, int8_t swapflag, char *sid, int8_t verbose)</td></tr>
<tr class="memdesc:ga168030ab7a866400153be169f8ed363d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode data samples to a supplied buffer.  <a href="group__miniseed-record.html#ga168030ab7a866400153be169f8ed363d">More...</a><br /></td></tr>
<tr class="separator:ga168030ab7a866400153be169f8ed363d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga45b12b97428e86249ee371ca0fd61473"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__miniseed-record.html#ga45b12b97428e86249ee371ca0fd61473">msr3_init</a> (<a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *msr)</td></tr>
<tr class="memdesc:ga45b12b97428e86249ee371ca0fd61473"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize and return an <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a>.  <a href="group__miniseed-record.html#ga45b12b97428e86249ee371ca0fd61473">More...</a><br /></td></tr>
<tr class="separator:ga45b12b97428e86249ee371ca0fd61473"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga72e0d55e9200bbdda71d157cd8939d4e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__miniseed-record.html#ga72e0d55e9200bbdda71d157cd8939d4e">msr3_free</a> (<a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> **ppmsr)</td></tr>
<tr class="memdesc:ga72e0d55e9200bbdda71d157cd8939d4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free all memory associated with a <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a>.  <a href="group__miniseed-record.html#ga72e0d55e9200bbdda71d157cd8939d4e">More...</a><br /></td></tr>
<tr class="separator:ga72e0d55e9200bbdda71d157cd8939d4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae091c6a84ec578c62fcd8645917e25d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__miniseed-record.html#gae091c6a84ec578c62fcd8645917e25d1">msr3_duplicate</a> (<a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *msr, int8_t datadup)</td></tr>
<tr class="memdesc:gae091c6a84ec578c62fcd8645917e25d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Duplicate a <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a>.  <a href="group__miniseed-record.html#gae091c6a84ec578c62fcd8645917e25d1">More...</a><br /></td></tr>
<tr class="separator:gae091c6a84ec578c62fcd8645917e25d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3c39a3a77bda007278da217c7b31883c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__time-related.html#ga895cc29aec627a81605312ca77bc2174">nstime_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__miniseed-record.html#ga3c39a3a77bda007278da217c7b31883c">msr3_endtime</a> (<a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *msr)</td></tr>
<tr class="memdesc:ga3c39a3a77bda007278da217c7b31883c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate time of the last sample in a record.  <a href="group__miniseed-record.html#ga3c39a3a77bda007278da217c7b31883c">More...</a><br /></td></tr>
<tr class="separator:ga3c39a3a77bda007278da217c7b31883c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad6b4c5c5194d338f9d89dfe84b44bd9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__miniseed-record.html#gaad6b4c5c5194d338f9d89dfe84b44bd9">msr3_print</a> (<a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *msr, int8_t details)</td></tr>
<tr class="memdesc:gaad6b4c5c5194d338f9d89dfe84b44bd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print header values of an <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a>.  <a href="group__miniseed-record.html#gaad6b4c5c5194d338f9d89dfe84b44bd9">More...</a><br /></td></tr>
<tr class="separator:gaad6b4c5c5194d338f9d89dfe84b44bd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9671336c6a76c5df2ea9bb41ee1c2afc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__miniseed-record.html#ga9671336c6a76c5df2ea9bb41ee1c2afc">msr3_resize_buffer</a> (<a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *msr)</td></tr>
<tr class="memdesc:ga9671336c6a76c5df2ea9bb41ee1c2afc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resize data sample buffer of <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> to what is needed.  <a href="group__miniseed-record.html#ga9671336c6a76c5df2ea9bb41ee1c2afc">More...</a><br /></td></tr>
<tr class="separator:ga9671336c6a76c5df2ea9bb41ee1c2afc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa7cb500cce045ccb5a40af21a6810d92"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__miniseed-record.html#gaa7cb500cce045ccb5a40af21a6810d92">msr3_sampratehz</a> (<a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *msr)</td></tr>
<tr class="memdesc:gaa7cb500cce045ccb5a40af21a6810d92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate sample rate in samples/second (Hertz) for a given <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a>.  <a href="group__miniseed-record.html#gaa7cb500cce045ccb5a40af21a6810d92">More...</a><br /></td></tr>
<tr class="separator:gaa7cb500cce045ccb5a40af21a6810d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5036c9dc2d5065fbed1223b87dce8544"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__miniseed-record.html#ga5036c9dc2d5065fbed1223b87dce8544">msr3_host_latency</a> (<a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *msr)</td></tr>
<tr class="memdesc:ga5036c9dc2d5065fbed1223b87dce8544"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate data latency based on the host time.  <a href="group__miniseed-record.html#ga5036c9dc2d5065fbed1223b87dce8544">More...</a><br /></td></tr>
<tr class="separator:ga5036c9dc2d5065fbed1223b87dce8544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabce57fe1524c0917f8c416571858b7aa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__miniseed-record.html#gabce57fe1524c0917f8c416571858b7aa">ms3_detect</a> (const char *record, uint64_t recbuflen, uint8_t *formatversion)</td></tr>
<tr class="memdesc:gabce57fe1524c0917f8c416571858b7aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detect miniSEED record in buffer.  <a href="group__miniseed-record.html#gabce57fe1524c0917f8c416571858b7aa">More...</a><br /></td></tr>
<tr class="separator:gabce57fe1524c0917f8c416571858b7aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad497aaa1e24f5f905553ad56b7f9c3be"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__miniseed-record.html#gad497aaa1e24f5f905553ad56b7f9c3be">ms_parse_raw3</a> (char *record, int maxreclen, int8_t details)</td></tr>
<tr class="memdesc:gad497aaa1e24f5f905553ad56b7f9c3be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse and verify a miniSEED 3.x record header.  <a href="group__miniseed-record.html#gad497aaa1e24f5f905553ad56b7f9c3be">More...</a><br /></td></tr>
<tr class="separator:gad497aaa1e24f5f905553ad56b7f9c3be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga472ac729d90c1c82d26526c16b480816"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__miniseed-record.html#ga472ac729d90c1c82d26526c16b480816">ms_parse_raw2</a> (char *record, int maxreclen, int8_t details, int8_t swapflag)</td></tr>
<tr class="memdesc:ga472ac729d90c1c82d26526c16b480816"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse and verify a miniSEED 2.x record header.  <a href="group__miniseed-record.html#ga472ac729d90c1c82d26526c16b480816">More...</a><br /></td></tr>
<tr class="separator:ga472ac729d90c1c82d26526c16b480816"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >Definitions and functions related to individual miniSEED records. </p>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="struct_m_s3_record" id="struct_m_s3_record"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct_m_s3_record">&#9670;&nbsp;</a></span>MS3Record</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct MS3Record</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p >miniSEED record container </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a5a21291c8b74a4689549d4735295e5cf" name="a5a21291c8b74a4689549d4735295e5cf"></a>char *</td>
<td class="fieldname">
record</td>
<td class="fielddoc">
Raw miniSEED record, if available. </td></tr>
<tr><td class="fieldtype">
<a id="a47d7e72d144305b788d69e3ba859f087" name="a47d7e72d144305b788d69e3ba859f087"></a>int32_t</td>
<td class="fieldname">
reclen</td>
<td class="fielddoc">
Length of miniSEED record in bytes. </td></tr>
<tr><td class="fieldtype">
<a id="a1b9cdbece0c9b736397fe9b1de6070df" name="a1b9cdbece0c9b736397fe9b1de6070df"></a>uint8_t</td>
<td class="fieldname">
swapflag</td>
<td class="fielddoc">
Byte swap indicator (bitmask), see <a class="el" href="group__byte-swap-flags.html">Byte swap flags</a>. </td></tr>
<tr><td class="fieldtype">
<a id="ac93add454993eff521bc94900bf40ac1" name="ac93add454993eff521bc94900bf40ac1"></a>char</td>
<td class="fieldname">
sid[<a class="el" href="libmseed_8h.html#a35732636583abd22ed0307c5d2576493">LM_SIDLEN</a>]</td>
<td class="fielddoc">
Source identifier as URN, max length <a class="el" href="libmseed_8h.html#a35732636583abd22ed0307c5d2576493">LM_SIDLEN</a>. </td></tr>
<tr><td class="fieldtype">
<a id="a418616cb8cea93ef6e70a88b72f11ab0" name="a418616cb8cea93ef6e70a88b72f11ab0"></a>uint8_t</td>
<td class="fieldname">
formatversion</td>
<td class="fielddoc">
Format major version. </td></tr>
<tr><td class="fieldtype">
<a id="a62262ba1ebfcb148c4559079deab0225" name="a62262ba1ebfcb148c4559079deab0225"></a>uint8_t</td>
<td class="fieldname">
flags</td>
<td class="fielddoc">
Record-level bit flags. </td></tr>
<tr><td class="fieldtype">
<a id="a8ed5d39b9df3bfa9dd953c33d27ac73e" name="a8ed5d39b9df3bfa9dd953c33d27ac73e"></a><a class="el" href="group__time-related.html#ga895cc29aec627a81605312ca77bc2174">nstime_t</a></td>
<td class="fieldname">
starttime</td>
<td class="fielddoc">
Record start time (first sample) </td></tr>
<tr><td class="fieldtype">
<a id="a7578e312e666fcc80cc07fd324201d4e" name="a7578e312e666fcc80cc07fd324201d4e"></a>double</td>
<td class="fieldname">
samprate</td>
<td class="fielddoc">
Nominal sample rate as samples/second (Hz) or period (s) </td></tr>
<tr><td class="fieldtype">
<a id="a63ee8e965be55863765c56016873be17" name="a63ee8e965be55863765c56016873be17"></a>int8_t</td>
<td class="fieldname">
encoding</td>
<td class="fielddoc">
Data encoding format, see <a class="el" href="group__encoding-values.html">Data Encodings</a>. </td></tr>
<tr><td class="fieldtype">
<a id="aef0f37c7df7a014ff18c123187cda1b6" name="aef0f37c7df7a014ff18c123187cda1b6"></a>uint8_t</td>
<td class="fieldname">
pubversion</td>
<td class="fielddoc">
Publication version. </td></tr>
<tr><td class="fieldtype">
<a id="a85d0d5f365d50df0490d944dffdb3853" name="a85d0d5f365d50df0490d944dffdb3853"></a>int64_t</td>
<td class="fieldname">
samplecnt</td>
<td class="fielddoc">
Number of samples in record. </td></tr>
<tr><td class="fieldtype">
<a id="a2f4036711bd3a7badb40d31f7737b770" name="a2f4036711bd3a7badb40d31f7737b770"></a>uint32_t</td>
<td class="fieldname">
crc</td>
<td class="fielddoc">
CRC of entire record. </td></tr>
<tr><td class="fieldtype">
<a id="a65957a9427ffd7f93a811813b8d497ff" name="a65957a9427ffd7f93a811813b8d497ff"></a>uint16_t</td>
<td class="fieldname">
extralength</td>
<td class="fielddoc">
Length of extra headers in bytes. </td></tr>
<tr><td class="fieldtype">
<a id="ad721be0255ac302f6f84fafb270157f3" name="ad721be0255ac302f6f84fafb270157f3"></a>uint16_t</td>
<td class="fieldname">
datalength</td>
<td class="fielddoc">
Length of data payload in bytes. </td></tr>
<tr><td class="fieldtype">
<a id="afcafda3b77442403616ecb1d6abdf5ee" name="afcafda3b77442403616ecb1d6abdf5ee"></a>char *</td>
<td class="fieldname">
extra</td>
<td class="fielddoc">
Pointer to extra headers. </td></tr>
<tr><td class="fieldtype">
<a id="a1c3a46dfc681da1bf5199b48bf9c55d3" name="a1c3a46dfc681da1bf5199b48bf9c55d3"></a>void *</td>
<td class="fieldname">
datasamples</td>
<td class="fielddoc">
Data samples, <em>numsamples</em> of type <em>sampletype</em>. </td></tr>
<tr><td class="fieldtype">
<a id="a468678266b3b68443abe484a56557c0c" name="a468678266b3b68443abe484a56557c0c"></a>size_t</td>
<td class="fieldname">
datasize</td>
<td class="fielddoc">
Size of datasamples buffer in bytes. </td></tr>
<tr><td class="fieldtype">
<a id="a7871a3c78d7ecb7c30c6526aa1fd9718" name="a7871a3c78d7ecb7c30c6526aa1fd9718"></a>int64_t</td>
<td class="fieldname">
numsamples</td>
<td class="fielddoc">
Number of data samples in datasamples. </td></tr>
<tr><td class="fieldtype">
<a id="a866a8640500756bc031ef7897fc1eeb2" name="a866a8640500756bc031ef7897fc1eeb2"></a>char</td>
<td class="fieldname">
sampletype</td>
<td class="fielddoc">
Sample type code: a, i, f, d <a class="el" href="sample-types.html">Sample Types</a>. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga685b3796656bcf24c2f417c94d3631f6" name="ga685b3796656bcf24c2f417c94d3631f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga685b3796656bcf24c2f417c94d3631f6">&#9670;&nbsp;</a></span>msr3_parse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int msr3_parse </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>recbuflen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> **&#160;</td>
          <td class="paramname"><em>ppmsr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>verbose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse miniSEED from a buffer. </p>
<p >This routine will attempt to parse (detect and unpack) a miniSEED record from a specified memory buffer and populate a supplied <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> structure. Both miniSEED 2.x and 3.x records are supported.</p>
<p >The record length is automatically detected. For miniSEED 2.x this means the record must contain a 1000 blockette.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">record</td><td>Buffer containing record to parse </td></tr>
    <tr><td class="paramname">recbuflen</td><td>Buffer length in bytes </td></tr>
    <tr><td class="paramname">ppmsr</td><td>Pointer-to-point to a <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> that will be populated </td></tr>
    <tr><td class="paramname">flags</td><td>Flags controlling features: <ul>
<li><code><a class="el" href="group__control-flags.html#ga95033e92e20f803ae8e3daebca1a2b5b" title="[Parsing] Unpack data samples">MSF_UNPACKDATA</a></code> - Unpack data samples</li>
<li><code><a class="el" href="group__control-flags.html#gab06edaad68767eb4f5603d3fcb3eeb13" title="[Parsing] Validate CRC (if version 3)">MSF_VALIDATECRC</a></code> Validate CRC (if present in format) </li>
</ul>
</td></tr>
    <tr><td class="paramname">verbose</td><td>control verbosity of diagnostic output</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Parsing status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success, populates the supplied <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a>. </td></tr>
    <tr><td class="paramname">&gt;0</td><td>Data record detected but not enough data is present, the return value is a hint of how many more bytes are needed. </td></tr>
    <tr><td class="paramname">&lt;0</td><td>library error code is returned.</td></tr>
  </table>
  </dd>
</dl>
<p><a class="el" href="group__logging.html#MessageOnError">MessageOnError</a> - this function logs a message on error except MS_NOTSEED </p>

</div>
</div>
<a id="gaa649330804f08b4d4cef9c0b1d8f7867" name="gaa649330804f08b4d4cef9c0b1d8f7867"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa649330804f08b4d4cef9c0b1d8f7867">&#9670;&nbsp;</a></span>msr3_pack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int msr3_pack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *&#160;</td>
          <td class="paramname"><em>msr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(char *, int, void *)&#160;</td>
          <td class="paramname"><em>record_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>handlerdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>packedsamples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>verbose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pack data into miniSEED records. </p>
<p >Packing is performed according to the version at <a class="el" href="group__miniseed-record.html#a418616cb8cea93ef6e70a88b72f11ab0">MS3Record::formatversion</a>.</p>
<p >The <a class="el" href="group__miniseed-record.html#a1c3a46dfc681da1bf5199b48bf9c55d3">MS3Record::datasamples</a> array and <a class="el" href="group__miniseed-record.html#a7871a3c78d7ecb7c30c6526aa1fd9718">MS3Record::numsamples</a> value will <b>not</b> be changed by this routine. It is the responsibility of the calling routine to adjust the data buffer if desired.</p>
<p >As each record is filled and finished they are passed to <em>record_handler()</em> which should expect 1) a <code>char*</code> to the record, 2) the length of the record and 3) a pointer supplied by the original caller containing optional private data (<em>handlerdata</em>). It is the responsibility of <em>record_handler()</em> to process the record, the memory will be re-used or freed when <em>record_handler()</em> returns.</p>
<p >The following data encodings and expected <a class="el" href="group__miniseed-record.html#a866a8640500756bc031ef7897fc1eeb2">MS3Record::sampletype</a> are supported:</p><ul>
<li><a class="el" href="group__encoding-values.html#ga0e4d3b0ef76ca9b3e19b2b9f597bc539" title="ASCII (text) encoding.">DE_ASCII</a> (0), text (ASCII), expects type <code>'a'</code> </li>
<li><a class="el" href="group__encoding-values.html#gab435f469f14c9423949f7faa644f3830" title="16-bit integer">DE_INT16</a> (1), 16-bit integer, expects type <code>'i'</code> </li>
<li><a class="el" href="group__encoding-values.html#ga9ca51f3389e94e1be9834ef105bd72a8" title="32-bit integer">DE_INT32</a> (3), 32-bit integer, expects type <code>'i'</code> </li>
<li><a class="el" href="group__encoding-values.html#ga131dc4aeb13edcbd54dc80f14315cb28" title="32-bit float (IEEE)">DE_FLOAT32</a> (4), 32-bit float (IEEE), expects type <code>'f'</code> </li>
<li><a class="el" href="group__encoding-values.html#ga25685778ab9a5295f3f15313f515820b" title="64-bit float (IEEE)">DE_FLOAT64</a> (5), 64-bit float (IEEE), expects type <code>'d'</code> </li>
<li><a class="el" href="group__encoding-values.html#ga0a2d2f566d94ea965f867c52dd098388" title="Steim-1 compressed integers.">DE_STEIM1</a> (10), Stiem-1 compressed integers, expects type <code>'i'</code> </li>
<li><a class="el" href="group__encoding-values.html#ga88038a2002e473c74440f7fae5f0dc74" title="Steim-2 compressed integers.">DE_STEIM2</a> (11), Stiem-2 compressed integers, expects type <code>'i'</code> </li>
</ul>
<p >If <em>flags</em> has <a class="el" href="group__control-flags.html#gaae2d9bb856575a556a4ac4dd1ce5f8c5" title="[Packing] Pack all available data even if final record would not be filled">MSF_FLUSHDATA</a> set, all of the data will be packed into data records even though the last one will probably be smaller than requested or, in the case of miniSEED 2, unfilled.</p>
<p >Default values are: record length = 4096, encoding = 11 (Steim2). The defaults are triggered when <em>msr.reclen</em> and <em>msr.encoding</em> are set to -1.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msr</td><td><a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> containing data to pack </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">record_handler()</td><td>Callback function called for each record </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handlerdata</td><td>A pointer that will be provided to the <em>record_handler()</em> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">packedsamples</td><td>The number of samples packed, returned to caller </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Bit flags used to control the packing process: <ul>
<li><code><a class="el" href="group__control-flags.html#gaae2d9bb856575a556a4ac4dd1ce5f8c5" title="[Packing] Pack all available data even if final record would not be filled">MSF_FLUSHDATA</a></code> : Pack all data in the buffer</li>
<li><code><a class="el" href="group__control-flags.html#ga7d98fd296c08a35f3c37bef32c5f274f" title="[Packing] Pack as miniSEED version 2 instead of 3">MSF_PACKVER2</a></code> : Pack miniSEED version 2 regardless of <a class="el" href="group__miniseed-record.html#a418616cb8cea93ef6e70a88b72f11ab0" title="Format major version.">MS3Record.formatversion</a> </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verbose</td><td>Controls logging verbosity, 0 is no diagnostic output</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of records created on success and -1 on error.</dd></dl>
<p><a class="el" href="group__logging.html#MessageOnError">MessageOnError</a> - this function logs a message on error </p>

</div>
</div>
<a id="ga61b17137140e7ba1414157275574f847" name="ga61b17137140e7ba1414157275574f847"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga61b17137140e7ba1414157275574f847">&#9670;&nbsp;</a></span>msr3_repack_mseed3()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int msr3_repack_mseed3 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *&#160;</td>
          <td class="paramname"><em>msr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>recbuflen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>verbose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Repack a parsed miniSEED record into a version 3 record. </p>
<p >Pack the parsed header into a version 3 header and copy the raw encoded data from the original record. The original record must be available at the <a class="el" href="group__miniseed-record.html#a5a21291c8b74a4689549d4735295e5cf" title="Raw miniSEED record, if available.">MS3Record.record</a> pointer.</p>
<p >This can be used to efficiently convert format versions or modify header values without unpacking the data samples.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msr</td><td><a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> containing record to repack </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">record</td><td>Destination buffer for repacked record </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">recbuflen</td><td>Length of destination buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verbose</td><td>Controls logging verbosity, 0 is no diagnostic output</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>record length on success and -1 on error.</dd></dl>
<p><a class="el" href="group__logging.html#MessageOnError">MessageOnError</a> - this function logs a message on error </p>

</div>
</div>
<a id="ga0b51fc781dc9e42e737c8c7862709f7b" name="ga0b51fc781dc9e42e737c8c7862709f7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0b51fc781dc9e42e737c8c7862709f7b">&#9670;&nbsp;</a></span>msr3_pack_header3()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int msr3_pack_header3 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *&#160;</td>
          <td class="paramname"><em>msr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>recbuflen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>verbose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pack a miniSEED version 3 header into the specified buffer. </p>
<p >Default values are: record length = 4096, encoding = 11 (Steim2). The defaults are triggered when <em>msr.reclen</em> and <em>msr.encoding</em> are set to -1.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msr</td><td><a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> to pack </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">record</td><td>Destination for packed header </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">recbuflen</td><td>Length of destination buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verbose</td><td>Controls logging verbosity, 0 is no diagnostic output</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the size of the header (fixed and extra) on success, otherwise -1.</dd></dl>
<p><a class="el" href="group__logging.html#MessageOnError">MessageOnError</a> - this function logs a message on error </p>

</div>
</div>
<a id="ga43cd6847493c0c960f2757abd341645d" name="ga43cd6847493c0c960f2757abd341645d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga43cd6847493c0c960f2757abd341645d">&#9670;&nbsp;</a></span>msr3_pack_header2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int msr3_pack_header2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *&#160;</td>
          <td class="paramname"><em>msr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>recbuflen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>verbose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pack a miniSEED version 2 header into the specified buffer. </p>
<p >Default values are: record length = 4096, encoding = 11 (Steim2). The defaults are triggered when <em>msr.reclen</em> and <em>msr.encoding</em> are set to -1.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msr</td><td><a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> to pack </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">record</td><td>Destination for packed header </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">recbuflen</td><td>Length of destination buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verbose</td><td>Controls logging verbosity, 0 is no diagnostic output</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the size of the header (fixed and blockettes) on success, otherwise -1.</dd></dl>
<p><a class="el" href="group__logging.html#MessageOnError">MessageOnError</a> - this function logs a message on error </p>

</div>
</div>
<a id="ga4d9056f00de1252658d3f2c6562576ee" name="ga4d9056f00de1252658d3f2c6562576ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4d9056f00de1252658d3f2c6562576ee">&#9670;&nbsp;</a></span>msr3_unpack_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t msr3_unpack_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *&#160;</td>
          <td class="paramname"><em>msr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>verbose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unpack data samples for a <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a>. </p>
<p >This routine can be used to unpack the data samples for a <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> that was earlier parsed without the data samples being decoded.</p>
<p >The packed/encoded data is accessed in the record indicated by <a class="el" href="group__miniseed-record.html#a5a21291c8b74a4689549d4735295e5cf" title="Raw miniSEED record, if available.">MS3Record.record</a> and the unpacked samples are placed in <a class="el" href="group__miniseed-record.html#a1c3a46dfc681da1bf5199b48bf9c55d3" title="Data samples, numsamples of type sampletype.">MS3Record.datasamples</a>. The resulting data samples are either text (ASCII) characters, 32-bit integers, 32-bit floats or 64-bit floats in host byte order.</p>
<p >An internal buffer is allocated if the encoded data is not aligned for the sample size, which is a decent indicator of the alignment needed for decoding efficiently.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msr</td><td>Target <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> to unpack data samples </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verbose</td><td>Flag to control verbosity, 0 means no diagnostic output</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of samples unpacked or negative libmseed error code.</dd></dl>
<p><a class="el" href="group__logging.html#MessageOnError">MessageOnError</a> - this function logs a message on error </p>

</div>
</div>
<a id="ga27b328cd56b265e923738202496ce1c8" name="ga27b328cd56b265e923738202496ce1c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga27b328cd56b265e923738202496ce1c8">&#9670;&nbsp;</a></span>msr3_data_bounds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int msr3_data_bounds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *&#160;</td>
          <td class="paramname"><em>msr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>dataoffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>datasize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the data payload bounds for a <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a>. </p>
<p >Bounds are the starting offset in record and size. For miniSEED 2.x the raw record is expected to be located at the <a class="el" href="group__miniseed-record.html#a5a21291c8b74a4689549d4735295e5cf" title="Raw miniSEED record, if available.">MS3Record.record</a> pointer.</p>
<p >When the encoding is a fixed length per sample (text/ASCII, integers or floats), calculate the data size based on the sample count and use if less than size determined otherwise.</p>
<p >When the encoding is Steim1 or Steim2, search for 64-byte padding frames (all zeros) at the end of the payload and remove from the reported size.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msr</td><td>The <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> to determine payload bounds for </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dataoffset</td><td>Offset from start of record to start of payload </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">datasize</td><td>Payload size in bytes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or negative library error code.</dd></dl>
<p><a class="el" href="group__logging.html#MessageOnError">MessageOnError</a> - this function logs a message on error </p>

</div>
</div>
<a id="ga168030ab7a866400153be169f8ed363d" name="ga168030ab7a866400153be169f8ed363d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga168030ab7a866400153be169f8ed363d">&#9670;&nbsp;</a></span>ms_decode_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t ms_decode_data </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>inputsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>encoding</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>samplecount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>outputsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sampletype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>swapflag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>verbose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decode data samples to a supplied buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>Encoded data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">inputsize</td><td>Size of <em>input</em> buffer in bytes </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">encoding</td><td>Data encoding </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">samplecount</td><td>Number of samples to decode </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">output</td><td>Decoded data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">outputsize</td><td>Size of <em>output</em> buffer in bytes </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">sampletype</td><td>Pointer to (single character) sample type of decoded data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">swapflag</td><td>Flag indicating if encoded data needs swapping </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sid</td><td>Source identifier to include in diagnostic/error messages </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">verbose</td><td>Flag to control verbosity, 0 means no diagnostic output</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of samples decoded or negative libmseed error code.</dd></dl>
<p><a class="el" href="group__logging.html#MessageOnError">MessageOnError</a> - this function logs a message on error </p>

</div>
</div>
<a id="ga45b12b97428e86249ee371ca0fd61473" name="ga45b12b97428e86249ee371ca0fd61473"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga45b12b97428e86249ee371ca0fd61473">&#9670;&nbsp;</a></span>msr3_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> * msr3_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *&#160;</td>
          <td class="paramname"><em>msr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize and return an <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a>. </p>
<p >Memory is allocated if for a new <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> if <em>msr</em> is NULL.</p>
<p >If memory for the <code>datasamples</code> field has been allocated the pointer will be retained for reuse. If memory for extra headers has been allocated it will be released.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msr</td><td>A <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> to re-initialize</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to a <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> struct on success or NULL on error.</dd></dl>
<p><a class="el" href="group__logging.html#MessageOnError">MessageOnError</a> - this function logs a message on error </p>

</div>
</div>
<a id="ga72e0d55e9200bbdda71d157cd8939d4e" name="ga72e0d55e9200bbdda71d157cd8939d4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga72e0d55e9200bbdda71d157cd8939d4e">&#9670;&nbsp;</a></span>msr3_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void msr3_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> **&#160;</td>
          <td class="paramname"><em>ppmsr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free all memory associated with a <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a>. </p>
<p >Free all memory associated with a <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a>, including extra header and data samples if present.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ppmsr</td><td>Pointer to point of the <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> to free </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae091c6a84ec578c62fcd8645917e25d1" name="gae091c6a84ec578c62fcd8645917e25d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae091c6a84ec578c62fcd8645917e25d1">&#9670;&nbsp;</a></span>msr3_duplicate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> * msr3_duplicate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *&#160;</td>
          <td class="paramname"><em>msr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>datadup</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Duplicate a <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a>. </p>
<p >Extra headers are duplicated as well.</p>
<p >If the <em>datadup</em> flag is true (non-zero) and the source <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> has associated data samples copy them as well.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msr</td><td><a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> to duplicate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">datadup</td><td>Flag to control duplication of data samples</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to a new <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> on success and NULL on error</dd></dl>
<p><a class="el" href="group__logging.html#MessageOnError">MessageOnError</a> - this function logs a message on error </p>

</div>
</div>
<a id="ga3c39a3a77bda007278da217c7b31883c" name="ga3c39a3a77bda007278da217c7b31883c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3c39a3a77bda007278da217c7b31883c">&#9670;&nbsp;</a></span>msr3_endtime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__time-related.html#ga895cc29aec627a81605312ca77bc2174">nstime_t</a> msr3_endtime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *&#160;</td>
          <td class="paramname"><em>msr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate time of the last sample in a record. </p>
<p >If leap seconds have been loaded into the internal library list: when a record completely contains a leap second, starts before and ends after, the calculated end time will be adjusted (reduced) by one second. </p><dl class="section note"><dt>Note</dt><dd>On the epoch time scale the value of a leap second is the same as the second following the leap second, without external information the values are ambiguous. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__leapsecond.html#ga5ccec2d754c60b7ec5688eaabd06c683" title="Read leap second from the specified file.">ms_readleapsecondfile()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msr</td><td><a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> to calculate end time of</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Time of the last sample on success and NSTERROR on error. </dd></dl>

</div>
</div>
<a id="gaad6b4c5c5194d338f9d89dfe84b44bd9" name="gaad6b4c5c5194d338f9d89dfe84b44bd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaad6b4c5c5194d338f9d89dfe84b44bd9">&#9670;&nbsp;</a></span>msr3_print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void msr3_print </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *&#160;</td>
          <td class="paramname"><em>msr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>details</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print header values of an <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msr</td><td><a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> to print </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">details</td><td>Flags to control the level of details: <ul>
<li><code>0</code> - print a single summary line</li>
<li><code>1</code> - print most details of header</li>
<li><code>&gt;1</code> - print all details of header and extra headers if present </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9671336c6a76c5df2ea9bb41ee1c2afc" name="ga9671336c6a76c5df2ea9bb41ee1c2afc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9671336c6a76c5df2ea9bb41ee1c2afc">&#9670;&nbsp;</a></span>msr3_resize_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int msr3_resize_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *&#160;</td>
          <td class="paramname"><em>msr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resize data sample buffer of <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> to what is needed. </p>
<p >This routine should only be used if pre-allocation of memory, via <a class="el" href="group__memory-allocators.html#gac6849eb93f00f89d4dc01f8a3692df3b">libmseed_prealloc_block_size</a>, was enabled to allocate the buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msr</td><td><a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> to resize buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return 0 on success, otherwise returns a libmseed error code.</dd></dl>
<p><a class="el" href="group__logging.html#MessageOnError">MessageOnError</a> - this function logs a message on error </p>

</div>
</div>
<a id="gaa7cb500cce045ccb5a40af21a6810d92" name="gaa7cb500cce045ccb5a40af21a6810d92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa7cb500cce045ccb5a40af21a6810d92">&#9670;&nbsp;</a></span>msr3_sampratehz()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double msr3_sampratehz </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *&#160;</td>
          <td class="paramname"><em>msr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate sample rate in samples/second (Hertz) for a given <a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msr</td><td><a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> to calculate sample rate for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return sample rate in Hertz (samples per second) </dd></dl>

</div>
</div>
<a id="ga5036c9dc2d5065fbed1223b87dce8544" name="ga5036c9dc2d5065fbed1223b87dce8544"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5036c9dc2d5065fbed1223b87dce8544">&#9670;&nbsp;</a></span>msr3_host_latency()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double msr3_host_latency </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__miniseed-record.html#struct_m_s3_record">MS3Record</a> *&#160;</td>
          <td class="paramname"><em>msr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate data latency based on the host time. </p>
<p >Calculation is based on the time of the last sample in the record; in other words, the difference between the host time and the time of the last sample in the record.</p>
<p >Double precision is returned, but the true precision is dependent on the accuracy of the host system clock among other things.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msr</td><td><a class="el" href="group__miniseed-record.html#struct_m_s3_record" title="miniSEED record container">MS3Record</a> to calculate lactency for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>seconds of latency or 0.0 on error (indistinguishable from 0.0 latency). </dd></dl>

</div>
</div>
<a id="gabce57fe1524c0917f8c416571858b7aa" name="gabce57fe1524c0917f8c416571858b7aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabce57fe1524c0917f8c416571858b7aa">&#9670;&nbsp;</a></span>ms3_detect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ms3_detect </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>recbuflen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>formatversion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detect miniSEED record in buffer. </p>
<p >Determine if the buffer contains a miniSEED data record by verifying known signatures (fields with known limited values).</p>
<p >If miniSEED 2.x is detected, search the record up to recbuflen bytes for a 1000 blockette. If no blockette 1000 is found, search at 64-byte offsets for the fixed section of the next header, thereby implying the record length.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">record</td><td>Buffer to test for record </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">recbuflen</td><td>Length of buffer </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">formatversion</td><td>Major version of format detected, 0 if unknown</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Data record not detected or error </td></tr>
    <tr><td class="paramname">0</td><td>Data record detected but could not determine length </td></tr>
    <tr><td class="paramname">&gt;0</td><td>Size of the record in bytes</td></tr>
  </table>
  </dd>
</dl>
<p><a class="el" href="group__logging.html#MessageOnError">MessageOnError</a> - this function logs a message on error </p>

</div>
</div>
<a id="gad497aaa1e24f5f905553ad56b7f9c3be" name="gad497aaa1e24f5f905553ad56b7f9c3be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad497aaa1e24f5f905553ad56b7f9c3be">&#9670;&nbsp;</a></span>ms_parse_raw3()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ms_parse_raw3 </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxreclen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>details</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse and verify a miniSEED 3.x record header. </p>
<p >Parsing is done at the lowest level, printing error messages for invalid header values and optionally print raw header values.</p>
<p >The buffer at <em>record</em> is assumed to be a miniSEED record. Not every possible test is performed, common errors and those causing library parsing to fail should be detected.</p>
<p >This routine is primarily intended to diagnose invalid miniSEED headers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">record</td><td>Buffer to parse as miniSEED </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxreclen</td><td>Maximum length to search in buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">details</td><td>Controls diagnostic output as follows: <ul>
<li><code>0</code> - only print error messages for invalid header fields</li>
<li><code>1</code> - print basic fields in addition to invalid field errors</li>
<li><code>2</code> - print all fields in addition to invalid field errors </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 when no errors were detected or a positive count of errors detected.</dd></dl>
<p><a class="el" href="group__logging.html#MessageOnError">MessageOnError</a> - this function logs a message on error </p>

</div>
</div>
<a id="ga472ac729d90c1c82d26526c16b480816" name="ga472ac729d90c1c82d26526c16b480816"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga472ac729d90c1c82d26526c16b480816">&#9670;&nbsp;</a></span>ms_parse_raw2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ms_parse_raw2 </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxreclen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>details</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>swapflag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse and verify a miniSEED 2.x record header. </p>
<p >Parsing is done at the lowest level, printing error messages for invalid header values and optionally print raw header values.</p>
<p >The buffer <em>record</em> is assumed to be a miniSEED record. Not every possible test is performed, common errors and those causing libmseed parsing to fail should be detected.</p>
<p >This routine is primarily intended to diagnose invalid miniSEED headers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">record</td><td>Buffer to parse as miniSEED </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxreclen</td><td>Maximum length to search in buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">details</td><td>Controls diagnostic output as follows: <ul>
<li><code>0</code> - only print error messages for invalid header fields</li>
<li><code>1</code> - print basic fields in addition to invalid field errors</li>
<li><code>2</code> - print all fields in addition to invalid field errors </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">swapflag</td><td>Flag controlling byte-swapping as follows: <ul>
<li><code>1</code> - swap multibyte quantities</li>
<li><code>0</code> - do not swap</li>
<li><code>-1</code> - autodetect byte order using year test, swap if needed </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 when no errors were detected or a positive count of errors detected.</dd></dl>
<p><a class="el" href="group__logging.html#MessageOnError">MessageOnError</a> - this function logs a message on error </p>

</div>
</div>
</div><!-- contents -->
<!-- GitHub corner from https://github.com/tholman/github-corners -->
<a href="https://github.com/iris-edu/libmseed" class="github-corner" aria-label="View source on GitHub"><svg width="75" height="75" viewBox="0 0 250 250" style="fill:#442487; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<a href="https://ds.iris.edu"><img style="position: absolute; top: 0; border: 0; right: 75px; height:75px;" src="https://www.iris.edu/hq/files/publications/logos/iris_color_screen.png"></a>
